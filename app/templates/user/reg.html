{% extends 'user/login_base.html' %}

{% block content %}
<div class="content-wrapper">
    <div class="container">
        <div class="login-box" style="width: 450px;">
            <div class="login-logo">
                <a href="#">注册账号</a>
            </div>
            <div class="login-box-body">
                <p class="login-box-msg"></p>
                <form action="{{ url_for("user.reg") }}" method="post" data-parsley-validate="">
                  <div class="form-group has-feedback">
                    <input name="username" type="text" class="form-control" placeholder="用户名"
                           {% if data %}value="{{ data.username }}" {% endif %}
                           data-parsley-required-message="用户名不能为空" data-parsley-type="alphanum"
                           data-parsley-maxlength="16" required>
                    <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    {% if message_u %}
                        <p class="help-text">{{ message_u }}</p>
                    {% endif %}
                  </div>
                  <div class="form-group has-feedback">
                    <input name="email" type="email" class="form-control" placeholder="电子邮箱(将作为唯一识别码)"
                           {% if data %}value="{{ data.email }}" {% endif %}
                           data-parsley-required-message="邮箱地址不能为空" data-parsley-type="email"
                           data-parsley-maxlength="64" required>
                    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    {% if message_e %}
                        <p class="help-text">{{ message_e }}</p>
                    {% endif %}
                  </div>
                  <div class="form-group has-feedback">
                    <input name="password" type="password" id="password" class="form-control" placeholder="密码"
                           {% if data %}value="{{ data.password }}" {% endif %}
                           data-parsley-type="alphanum" data-parsley-required-message="请设置登录密码" data-parsley-length="[6,32]" required>
                    <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                  </div>
                  <div class="form-group has-feedback">
                    <input name="password2" type="password" class="form-control" placeholder="重复输入密码"
                           {% if data %}value="{{ data.password2 }}" {% endif %}
                           data-parsley-type="alphanum" data-parsley-required-message="请重复登录密码"
                           data-parsley-length="[6,32]" data-parsley-equalto="#password" required>
                    <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
                    {% if message_p %}
                        <p class="help-text">{{ message_p }}</p>
                    {% endif %}
                  </div>
                  <div class="row">
                    <div class="col-xs-8" style="padding-top: 7px;">
                        已经拥有账号？<a href="{{ url_for('user.login') }}" class="text-center">立即登录</a>
                    </div>
                    <div class="col-xs-4">
                        <button type="submit" class="btn btn-success btn-block btn-flat">注册</button>
                    </div>
                  </div>
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock %}